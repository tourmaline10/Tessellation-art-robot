<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>敷き詰めデモ（簡易）</title>
<style>
  body { text-align: center; font-family: sans-serif; }
  svg { border: 1px solid #333; margin-top: 10px; }
</style>
</head>
<body>

<h2>敷き詰め模様（簡易版）</h2>

<select onchange="draw(this.value)">
  <option value="square">正方形</option>
  <option value="triangle">正三角形</option>
  <option value="hex">正六角形</option>
</select>

<br>

<svg id="svg" width="400" height="400"
     viewBox="0 0 400 400"
     xmlns="http://www.w3.org/2000/svg"></svg>

<script>
const svg = document.getElementById("svg");

function clearSVG() {
  while (svg.firstChild) svg.removeChild(svg.firstChild);
}

function draw(type) {
  clearSVG();

  if (type === "square") {
    for (let y = 0; y < 10; y++)
      for (let x = 0; x < 10; x++) {
        let r = document.createElementNS(svg.namespaceURI, "rect");
        r.setAttribute("x", x*40);
        r.setAttribute("y", y*40);
        r.setAttribute("width", 40);
        r.setAttribute("height", 40);
        r.setAttribute("fill", "#88c");
        svg.appendChild(r);
      }
  }

  if (type === "triangle") {
    for (let y = 0; y < 10; y++)
      for (let x = 0; x < 10; x++) {
        let p = document.createElementNS(svg.namespaceURI, "polygon");
        let x0 = x*40, y0 = y*40;
        p.setAttribute(
          "points",
          `${x0},${y0+40} ${x0+20},${y0} ${x0+40},${y0+40}`
        );
        p.setAttribute("fill", "#c88");
        svg.appendChild(p);
      }
  }

  if (type === "hex") {
    const r = 20;
    const h = Math.sqrt(3)*r;
    for (let y = 0; y < 10; y++)
      for (let x = 0; x < 10; x++) {
        let cx = x*3*r + (y%2)*1.5*r;
        let cy = y*h;
        let pts = [];
        for (let i=0;i<6;i++){
          let a = Math.PI/3*i;
          pts.push(
            (cx + r*Math.cos(a)) + "," +
            (cy + r*Math.sin(a))
          );
        }
        let p = document.createElementNS(svg.namespaceURI, "polygon");
        p.setAttribute("points", pts.join(" "));
        p.setAttribute("fill", "#8c8");
        svg.appendChild(p);
      }
  }
}

draw("square");
</script>

</body>
</html>
